{"ast":null,"code":"import _defineProperty from\"/Users/kamirska/UDEMYlearning/e-commerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/kamirska/UDEMYlearning/e-commerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kamirska/UDEMYlearning/e-commerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/kamirska/UDEMYlearning/e-commerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kamirska/UDEMYlearning/e-commerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/kamirska/UDEMYlearning/e-commerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/kamirska/UDEMYlearning/e-commerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'./Register.styles.scss';import FormInput from'../../components/FormInput/FormInput';import CustomButton from'../../components/CustomButton/CustomButton';import{auth,createUserProfileDocument}from'../../firebase/firebase.util';var Register=/*#__PURE__*/function(_React$Component){_inherits(Register,_React$Component);var _super=_createSuper(Register);function Register(){var _this;_classCallCheck(this,Register);_this=_super.call(this);_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _this$state,displayName,email,password,confirmPassword,_yield$auth$createUse,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();//just like in app.js where we were checking googleAuth now we need to create the full entry\n_this$state=_this.state,displayName=_this$state.displayName,email=_this$state.email,password=_this$state.password,confirmPassword=_this$state.confirmPassword;if(!(password!==confirmPassword)){_context.next=5;break;}alert('Password entries do not match!');return _context.abrupt(\"return\");case 5:_context.prev=5;_context.next=8;return auth.createUserWithEmailAndPassword(email,password);case 8:_yield$auth$createUse=_context.sent;user=_yield$auth$createUse.user;_context.next=12;return createUserProfileDocument(user,{displayName:displayName});case 12://once process is finished we reset the form\n_this.setState({displayName:'',email:'',password:'',confirmPassword:''});_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](5);console.log(_context.t0);case 18:;case 19:case\"end\":return _context.stop();}}},_callee,null,[[5,15]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.state={displayName:'',email:'',password:'',confirmPassword:''};return _this;}_createClass(Register,[{key:\"render\",value:function render(){var _this$state2=this.state,displayName=_this$state2.displayName,email=_this$state2.email,password=_this$state2.password,confirmPassword=_this$state2.confirmPassword;return/*#__PURE__*/React.createElement(\"div\",{className:\"sign-up\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"title\"},\"I do not have an account\"),/*#__PURE__*/React.createElement(\"span\",null,\"Sign up with your emial and password\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(FormInput,{type:\"text\",name:\"displayName\",value:displayName,onChange:this.handleChange,label:\"Display name\",required:true}),/*#__PURE__*/React.createElement(FormInput,{type:\"email\",name:\"email\",value:email,onChange:this.handleChange,label:\"Email\",required:true}),/*#__PURE__*/React.createElement(FormInput,{type:\"password\",name:\"password\",value:password,onChange:this.handleChange,label:\"Password\",required:true}),/*#__PURE__*/React.createElement(FormInput,{type:\"password\",name:\"confirmPassword\",value:confirmPassword,onChange:this.handleChange,label:\"Confirm Password\",required:true}),/*#__PURE__*/React.createElement(CustomButton,{type:\"submit\"},\"REGISTER\")));}}]);return Register;}(React.Component);export{Register as default};","map":{"version":3,"sources":["/Users/kamirska/UDEMYlearning/e-commerce/src/components/Register/Register.js"],"names":["React","FormInput","CustomButton","auth","createUserProfileDocument","Register","handleSubmit","e","preventDefault","state","displayName","email","password","confirmPassword","alert","createUserWithEmailAndPassword","user","setState","console","log","handleChange","target","name","value","Component"],"mappings":"wkCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,wBAAP,CACA,MAAOC,CAAAA,SAAP,KAAsB,sCAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4CAAzB,CACA,OAAQC,IAAR,CAAcC,yBAAd,KAA8C,8BAA9C,C,GAEqBC,CAAAA,Q,gHACjB,mBAAc,0CACV,wBADU,MAUdC,YAVc,0FAUC,iBAAMC,CAAN,wMACXA,CAAC,CAACC,cAAF,GACA;AAFW,YAG6C,MAAKC,KAHlD,CAGJC,WAHI,aAGJA,WAHI,CAGSC,KAHT,aAGSA,KAHT,CAGgBC,QAHhB,aAGgBA,QAHhB,CAG0BC,eAH1B,aAG0BA,eAH1B,MAIRD,QAAQ,GAAKC,eAJL,0BAKPC,KAAK,CAAC,gCAAD,CAAL,CALO,8EAWcX,CAAAA,IAAI,CAACY,8BAAL,CAAoCJ,KAApC,CAA2CC,QAA3C,CAXd,4CAWAI,IAXA,uBAWAA,IAXA,wBAaDZ,CAAAA,yBAAyB,CAACY,IAAD,CAAO,CAACN,WAAW,CAAXA,WAAD,CAAP,CAbxB,SAcP;AACA,MAAKO,QAAL,CAAc,CACVP,WAAW,CAAE,EADH,CAEVC,KAAK,CAAE,EAFG,CAGVC,QAAQ,CAAE,EAHA,CAIVC,eAAe,CAAE,EAJP,CAAd,EAfO,iFAsBPK,OAAO,CAACC,GAAR,cAtBO,QAuBV,CAvBU,qEAVD,qEAoCdC,YApCc,CAoCA,SAACb,CAAD,CAAM,eACMA,CAAC,CAACc,MADR,CACTC,IADS,WACTA,IADS,CACHC,KADG,WACHA,KADG,CAEhB,MAAKN,QAAL,oBACKK,IADL,CACYC,KADZ,GAGH,CAzCa,CAEV,MAAKd,KAAL,CAAa,CACTC,WAAW,CAAE,EADJ,CAETC,KAAK,CAAE,EAFE,CAGTC,QAAQ,CAAE,EAHD,CAITC,eAAe,CAAE,EAJR,CAAb,CAFU,aAQb,C,4DAoCS,kBACkD,KAAKJ,KADvD,CACCC,WADD,cACCA,WADD,CACcC,KADd,cACcA,KADd,CACqBC,QADrB,cACqBA,QADrB,CAC+BC,eAD/B,cAC+BA,eAD/B,CAEN,mBACI,2BAAK,SAAS,CAAC,SAAf,eACI,0BAAI,SAAS,CAAC,OAAd,6BADJ,cAEI,uEAFJ,cAII,4BAAM,QAAQ,CAAE,KAAKP,YAArB,eACI,oBAAC,SAAD,EACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,aAFT,CAGI,KAAK,CAAEI,WAHX,CAII,QAAQ,CAAE,KAAKU,YAJnB,CAKI,KAAK,CAAC,cALV,CAMI,QAAQ,KANZ,EADJ,cASI,oBAAC,SAAD,EACK,IAAI,CAAC,OADV,CAEK,IAAI,CAAC,OAFV,CAGK,KAAK,CAAET,KAHZ,CAIK,QAAQ,CAAE,KAAKS,YAJpB,CAKK,KAAK,CAAC,OALX,CAMK,QAAQ,KANb,EATJ,cAiBI,oBAAC,SAAD,EACC,IAAI,CAAC,UADN,CAEC,IAAI,CAAC,UAFN,CAGC,KAAK,CAAER,QAHR,CAIC,QAAQ,CAAE,KAAKQ,YAJhB,CAKC,KAAK,CAAC,UALP,CAMC,QAAQ,KANT,EAjBJ,cAyBI,oBAAC,SAAD,EACA,IAAI,CAAC,UADL,CAEA,IAAI,CAAC,iBAFL,CAGA,KAAK,CAAEP,eAHP,CAIA,QAAQ,CAAE,KAAKO,YAJf,CAKA,KAAK,CAAC,kBALN,CAMA,QAAQ,KANR,EAzBJ,cAkCI,oBAAC,YAAD,EAAc,IAAI,CAAC,QAAnB,aAlCJ,CAJJ,CADJ,CA2CH,C,sBA1FiCpB,KAAK,CAACwB,S,SAAvBnB,Q","sourcesContent":["import React from 'react';\nimport './Register.styles.scss';\nimport FormInput from '../../components/FormInput/FormInput';\nimport CustomButton from '../../components/CustomButton/CustomButton';\nimport {auth, createUserProfileDocument} from '../../firebase/firebase.util';\n\nexport default class Register extends React.Component {\n    constructor() {\n        super()\n        this.state = {\n            displayName: '',\n            email: '',\n            password: '',\n            confirmPassword: '',\n        }\n    }\n\n    handleSubmit = async(e) => {\n        e.preventDefault();\n        //just like in app.js where we were checking googleAuth now we need to create the full entry\n        const {displayName, email, password, confirmPassword} = this.state;\n        if(password !== confirmPassword) {\n            alert('Password entries do not match!')\n            return;\n        }\n\n        try{\n            \n            const {user} = await auth.createUserWithEmailAndPassword(email, password)\n            //after creating a new user we want to save the authCredentials in here to stay singed in so we call the following \n            await createUserProfileDocument(user, {displayName})\n            //once process is finished we reset the form\n            this.setState({\n                displayName: '',\n                email: '',\n                password: '',\n                confirmPassword: '',\n            })\n        }catch(err) {\n            console.log(err)\n        };\n    }\n\n    handleChange =(e)=> {\n        const {name, value} = e.target;\n        this.setState({\n            [name]: value,\n        })\n    }\n\n\n    render () {\n        const {displayName, email, password, confirmPassword} = this.state;\n        return (\n            <div className='sign-up'>\n                <h2 className='title'>I do not have an account</h2>\n                <span>Sign up with your emial and password</span>\n\n                <form onSubmit={this.handleSubmit}>\n                    <FormInput \n                        type='text'\n                        name='displayName'\n                        value={displayName}\n                        onChange={this.handleChange}\n                        label='Display name'\n                        required\n                    />\n                    <FormInput \n                         type='email'\n                         name='email'\n                         value={email}\n                         onChange={this.handleChange}\n                         label='Email'\n                         required\n                    />\n                    <FormInput \n                     type='password'\n                     name='password'\n                     value={password}\n                     onChange={this.handleChange}\n                     label='Password'\n                     required\n                     />\n                    <FormInput \n                    type='password'\n                    name='confirmPassword'\n                    value={confirmPassword}\n                    onChange={this.handleChange}\n                    label='Confirm Password'\n                    required\n                    />\n\n                    <CustomButton type='submit'>REGISTER</CustomButton>\n                </form>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}