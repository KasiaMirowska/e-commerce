{"version":3,"sources":["components/menu-item/MenuItem.js","redux/directory/directory.selectors.js","components/directory/Directory.js","pages/homepage/HomePage.styles.jsx","pages/homepage/HomePage.js","redux/shop/shop.selectors.js","components/with-spinner/WithSpinner.styles.jsx","components/with-spinner/WithSpinner.js","components/CustomButton/CustomButton.js","redux/cart/cart.types.js","redux/cart/cart.actions.js","components/collectionItem/CollectionItem.js","components/Collection/CollectionPreview.js","components/CollectionsOverview/CollectionsOverview.js","components/CollectionsOverview/CollectionsOverview-Container.js","redux/shop/shop.types.js","firebase/firebase.util.js","redux/shop/shop.actions.js","pages/CollectionPage/CollectionPage.js","pages/CollectionPage/Collection-Container.js","pages/shop/ShopPage.js","components/Header/Header.styles.jsx","assets/crown.svg","assets/cart.svg","redux/cart/cart.selectors.js","components/CartIcon/CartIcon.js","components/CartItem/CartItem.js","components/CartDropdown/Cart.js","redux/user/user.selectors.js","components/Header/Header.js","components/FormInput/FormInput.js","redux/user/user.types.js","redux/user/user.actions.js","components/Login/Login.js","components/Register/Register.js","pages/LoginRegister/LoginRegister.js","components/CheckoutItem/CheckoutItem.js","components/StripeButton/StripeButton.js","pages/checkOut/CheckOut.js","App.js","redux/user/user-reducer.js","redux/cart/cart.utils.js","redux/cart/cart-reducer.js","redux/directory/directory-reducer.js","redux/shop/shop-reducer.js","redux/root-reducer.js","redux/shop/shop-sagas.js","redux/user/user-sagas.js","redux/root-saga.js","redux/store.js","index.js"],"names":["withRouter","title","img","size","linkUrl","history","match","className","onClick","push","url","style","backgroundImage","toUpperCase","selectDirectorySections","createSelector","state","directory","sections","connect","props","map","section","key","id","imageUrl","HomePageContainer","styled","div","HomePage","selectShop","shop","selectShopCollections","collections","selectCollectionsForPreview","Object","keys","selectIsCollectionFetching","isFetching","selectIsCollectionsLoaded","SpinnerOverlay","SpinnerContainer","WithSpinner","WrappedComponent","isLoading","otherProps","CustomButton","children","isGoogleSignedIn","invertedColor","CartActionTypes","TOOGLE_CART_HIDDEN","ADD_ITEM","REMOVE_ITEM","CLEAR_ITEM","toggleCartHidden","type","addItemToCart","item","payload","dispatch","addCartItems","name","price","CollectionPreview","displayed","items","filter","idx","to","toLowerCase","list","collection","route","routeName","mapStateToProps","createStructuredSelector","isCollectionsLoaded","CollectionsOverviewContainer","compose","CollectionsOverview","shopActionTypes","FETCH_COLLECTIONS_START","FETCH_COLLECTIONS_SUCCESS","FETCH_COLLECTIONS_FAILURE","createUserProfileDocument","userAuth","additionalData","a","console","log","userRef","firestore","doc","uid","get","exists","displayName","email","createdAt","Date","userRefSet","set","message","convertCollectionSnapshotToMap","docs","data","encodeURI","reduce","accumulator","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","googleProvider","GoogleAuthProvider","setCustomParameters","prompt","fetchCollectionsSuccess","collectionsMap","ownProps","collectionUrlParam","params","collectionId","content","CollectionContainer","CollectionPage","ShopPage","unsubscribeFromSnapshot","componentDidMount","fetchCollectionsStart","exact","path","this","component","React","Component","HeaderContainer","LogoContainer","Link","OptionsContainer","OptionContainerStyles","css","OptionLink","OptionDiv","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","_ref3","_ref4","stroke","strokeWidth","fill","fillRule","transform","points","fillOpacity","cx","cy","r","_ref","svgRef","width","height","viewBox","ref","undefined","ForwardRef","forwardRef","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","x","y","enableBackground","xmlSpace","d","selectCart","cart","selectCartItems","cartItems","selectCartHidden","hidden","selectCartItemsCount","accumalatedQuantity","cartItem","quantity","selectCartTotal","accumualtedPrice","itemCount","CartItem","src","alt","selectCurrentUser","user","currentUser","signOut","FormInput","onChange","label","value","lenght","UserActionTypes","SET_CURRENT_USER","GOOGLE_SIGNIN_START","EMAIL_SIGNIN_START","SIGNIN_SUCCESS","SIGNIN_FAILURE","signInSuccess","signInFailure","error","Login","handleSubmit","e","preventDefault","password","emailSignInStart","onLoginSuccess","handleChange","setState","onSubmit","required","googleSignInStart","Register","confirmPassword","alert","createUserWithEmailAndPassword","location","destination","clearItemFromCart","addItem","removeItem","StripeCheckoutButton","priceForStripe","billingAddress","shippingAddress","image","description","amount","panelLabel","token","stripeKey","total","App","unsubscribeFromAuth","componentWillUnmount","render","CheckOut","INITIAL_STATE","userReducer","action","GOOGLE_SIGNIN_SUCCESS","EMAIL_SIGNIN_SUCCESS","GOOGLE_SIGNIN_FAILURE","EMAIL_SIGNIN_FAILURE","addMultiSameToCart","newItem","find","itemToRemove","existingItem","cartReducer","directoryReducer","shopReducer","shopActionsType","persistConfig","storage","whitelist","rootReducer","combineReducers","persistReducer","fetchCollectionsAsync","collectionRef","snapshot","put","errorMessage","takeLatest","ShopActionTypes","getSnapshotFromUserAuth","signInWithGoogle","signInWithEmail","onGoogleSignInStart","onEmailSignInStart","userSagas","userSnapshot","signInWithPopup","signInWithEmailAndPassword","all","rootSaga","sagaMiddleware","createSagaMiddleware","middlewares","store","createStore","applyMiddleware","run","persistor","persistStore","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b57fb09e.chunk.js","sourcesContent":["import React from 'react';\nimport './MenuItem.styles.scss';\nimport {withRouter} from 'react-router-dom';\n\nexport default withRouter(function MenuItem({ title, img, size, linkUrl, history, match}) {\n    return (\n        //if the menu item has size it will get the size class or be ignored\n        <div className={`${size} menu-item`} onClick={() => history.push(`${match.url}${linkUrl}`)}>\n            <div className='background-image' style={{backgroundImage: `url(${img})`}} />\n            <div className='content'>\n                <h1 className='title'>{title.toUpperCase()}</h1>\n                <span className='subtitle'>SHOP NOW</span>\n            </div>\n        </div>\n\n    );\n})","import {createSelector} from 'reselect';\n\nconst selectDirectory = (state) => {\n    return state.directory;\n}\nexport const selectDirectorySections = createSelector(\n    [selectDirectory],\n    directory => directory.sections\n)","import React from 'react';\nimport './Directory.styles.scss';\nimport MenuItem from '../menu-item/MenuItem';\nimport {selectDirectorySections} from '../../redux/directory/directory.selectors'\nimport { connect } from 'react-redux';\n\n\nconst Directory = (props) => {\n    const sections = props.sections.map(section => (\n        <MenuItem\n            key={section.id}\n            title={section.title}\n            img={section.imageUrl}\n            id={section.id}\n            size={section.size}\n            linkUrl={section.linkUrl}\n        />\n    ));\n\n    return (\n        <div className='directory-menu'>\n            {sections}\n        </div>\n    );\n}\n\nconst mapStateToProps = state => ({\n    sections: selectDirectorySections(state)\n})\n\n\nexport default connect(mapStateToProps)(Directory);","import styled from 'styled-components';\n\nexport const HomePageContainer = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\npadding: 20px 80px;\n`","import React from 'react';\nimport Directory from '../../components/directory/Directory';\nimport {HomePageContainer} from './HomePage.styles';\n\n\nconst HomePage =()=> (\n    <HomePageContainer>\n        <Directory />\n     </HomePageContainer>\n)\n\nexport default HomePage;","import {createSelector} from 'reselect';\n\n//input selector: \nconst selectShop = state => {\n    return state.shop;\n}\n\nexport const selectShopCollections = createSelector(\n    [selectShop],\n    shop => shop.collections\n)\n//after data normalization we have objects instead of arrays so rendering components is broken hence we should convert that object into an array here:\nexport const selectCollectionsForPreview = createSelector(\n   [selectShopCollections],\n    collections => collections? Object.keys(collections).map(key => collections[key]) : [],\n)\n//currying\nexport const selectCollection = collectionUrlParam => {\n    return createSelector(\n        [selectShopCollections],\n        collections => collections? collections[collectionUrlParam] : null//after data normalization we have an object with titled smaller objects holding the collection items\n    )\n}\n\nexport const selectIsCollectionFetching = createSelector(\n    [selectShop],\n    shop => shop.isFetching\n)\n\nexport const selectIsCollectionsLoaded = createSelector(\n    [selectShop],\n    shop => !!shop.collections //creating a boolean value from property to check if collections are loaded\n)","import styled from 'styled-components';\n\nexport const SpinnerOverlay = styled.div`\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const SpinnerContainer = styled.div`\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: #636767;\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n`;\n","import React from 'react';\nimport { SpinnerOverlay, SpinnerContainer } from './WithSpinner.styles';\n\n//higher order component\nconst WithSpinner = WrappedComponent => {\n    const spinner = ({ isLoading, ...otherProps }) => {\n        return isLoading ? (\n            <SpinnerOverlay>\n                <SpinnerContainer />\n            </SpinnerOverlay>\n        )\n            :\n            (\n                <WrappedComponent  {...otherProps} />\n            )\n    }\n    return spinner;\n}\nexport default WithSpinner;","import React from 'react';\nimport './CustomButton.styles.scss';\n\n\nexport default function CustomButton({children, isGoogleSignedIn, invertedColor, ...otherProps}) {\n    //conditionally rendering a button class based on a prop for google signIn...if google? then it has a google class , if not then nothing plus always custom-button class...\n    \n    return (\n        <button className={`${isGoogleSignedIn? 'google-sign-in' : ''} ${invertedColor? 'invertedColor' : ''} custom-button`} {...otherProps}>\n            {children}\n        </button>\n    )\n}","\nconst CartActionTypes = {\n    TOOGLE_CART_HIDDEN: 'TOGGLE_CART_HIDDEN',\n    ADD_ITEM: 'ADD_ITEM',\n    REMOVE_ITEM: 'REMOVE_ITEM',\n    CLEAR_ITEM: 'CLEAR_ITEM',\n};\nexport default CartActionTypes;","import CartActionTypes from './cart.types';\n\n//payload is an optional argument, here no need causer of toggle\nexport const toggleCartHidden = () => {\n    return ({\n        type: CartActionTypes.TOOGLE_CART_HIDDEN\n    })\n}\n\nexport const addItemToCart = (item) => {\n    return ({\n        type: CartActionTypes.ADD_ITEM,\n        payload: item,\n    })\n}\nexport const removeItem = (item) => {\n    return ({\n        type: CartActionTypes.REMOVE_ITEM,\n        payload: item,\n   })\n}\n\nexport const clearItemFromCart = (item) => {\n    return ({\n         type: CartActionTypes.CLEAR_ITEM,\n         payload: item,\n    })\n}","import React from 'react';\nimport './CollectionItem.styles.scss';\nimport CustomButton from '../CustomButton/CustomButton';\nimport {connect} from 'react-redux';\nimport {addItemToCart} from '../../redux/cart/cart.actions';\n\nconst mapDispatchToProps = dispatch => {\n    return ({\n        addCartItems: item => dispatch(addItemToCart(item))\n    })\n}\n\n\nconst CollectionItem = (props) => {\n    \n    const {id, name, price, imageUrl} = props.item;\n    return (\n        <div className='collection-item' >\n            <div className='image' style={{ backgroundImage: `url(${imageUrl})` }} />\n            <div className='collection-footer'>\n                <span className='name'>{name}</span>\n                <span className='price'>{price}</span>\n            </div>\n            <CustomButton className='invertedColor custom-button' onClick={()=> props.addCartItems(props.item)}>ADD TO CART</CustomButton>\n        </div>\n    )\n}\nexport default connect(null, mapDispatchToProps)(CollectionItem);","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport './CollectionPreview.styles.scss';\nimport CollectionItem from '../collectionItem/CollectionItem';\n\nexport default function CollectionPreview({ title, items }) {\n    const displayed = items\n        //displaying only first 4 items in the collection preview\n        .filter((item, idx) => idx < 4)\n        .map(item => (\n            <CollectionItem\n                key={item.id}\n                item={item}\n                name={item.name}\n                price={item.price}\n                imageUrl={item.imageUrl}\n            />\n        ))\n\n    return (\n        <div className='collection '>\n            <Link to={`/shop/${title.toLowerCase()}`}>\n            <h1 className='title' >{title}</h1>\n            </Link>\n            <div className='preview'>\n                {displayed}\n            </div>\n        </div>\n    )\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport {selectCollectionsForPreview} from '../../redux/shop/shop.selectors';\nimport './CollectionsOverview.styles.scss';\nimport CollectionPreview from '../../components/Collection/CollectionPreview';\n\nconst mapStateToProps = state => ({\n    collections: selectCollectionsForPreview(state),\n})\n\nconst CollectionsOverview = (props) => {\n    const list = props.collections.map(collection => (\n        <CollectionPreview\n            key={collection.id}\n            title={collection.title}\n            items={collection.items}\n            route={collection.routeName}\n        />\n    ))\n    return (\n        <div className='collection-overview'>\n            {list}\n        </div>\n    )\n}\n\nexport default connect(mapStateToProps )(CollectionsOverview);","import {compose} from 'redux';\nimport {connect} from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { selectIsCollectionFetching, selectIsCollectionsLoaded } from '../../redux/shop/shop.selectors';\nimport WithSpinner from '../with-spinner/WithSpinner';\nimport CollectionsOverview from './CollectionsOverview';\n\nconst mapStateToProps = createStructuredSelector({\n    isLoading: selectIsCollectionFetching,\n    isCollectionsLoaded: selectIsCollectionsLoaded,\n})\n//writing this component so that we dont drill props from ShopPage ...\n//const CollectionsOverviewContainer = connect(mapStateToProps)(WithSpinner(CollectionsOverview)) wrapped components get hard to read so we can use Compose\nconst CollectionsOverviewContainer = compose(\n    connect(mapStateToProps),\n    WithSpinner\n)(CollectionsOverview);\n\nexport default CollectionsOverviewContainer;","const shopActionTypes = {\n    FETCH_COLLECTIONS_START:'FETCH_COLLECTIONS_START',\n    FETCH_COLLECTIONS_SUCCESS: 'FETCH_COLLECTIONS_SUCCESS',\n    FETCH_COLLECTIONS_FAILURE: 'FETCH_COLLECTIONS_FAILURE'\n}\nexport default shopActionTypes;","import firebase from 'firebase/app';\nimport 'firebase/firestore'; //for database\nimport 'firebase/auth'; //for authentication\n\n\nconst config = {\n    apiKey: \"AIzaSyAvZb8PsjokOEf4AC16V0613SHcH7ESYeI\",\n    authDomain: \"crown-db-3ccd2.firebaseapp.com\",\n    databaseURL: \"https://crown-db-3ccd2.firebaseio.com\",\n    projectId: \"crown-db-3ccd2\",\n    storageBucket: \"crown-db-3ccd2.appspot.com\",\n    messagingSenderId: \"506711171270\",\n    appId: \"1:506711171270:web:b0f9c788f57944529637c7\",\n    // measurementId: \"G-6SS2MF5K16\"\n  };\n  //saving a user into db passing userAuth object that we receive when googleSignIn...we ALWAYS recieve an object back but it might be empty\n  export const createUserProfileDocument = async ( userAuth, additionalData) => {\n    if(!userAuth) {\n       console.log('does not exist')\n       return;\n    }\n    //if does exist then query the db\n    const userRef = firestore.doc(`users/${userAuth.uid}`);\n    const snapshot = await userRef.get()\n    \n    //or create a new user\n    if(!snapshot.exists) {\n        const {displayName, email} = userAuth;\n        const createdAt = new Date();\n       \n        try {\n            const userRefSet = { //another firestore method for creating a user\n                displayName,\n                email,\n                createdAt,\n                ...additionalData\n            };\n            \n            await userRef.set(userRefSet)\n\n        }catch (err) {\n            console.log('error creating a user', err.message)\n        }\n    }\n    return userRef;\n  }\n\n  export const addCollectionAndDocuments = async(collectionName, objectsToAdd) => {\n    const collectionRef= firestore.collection(collectionName) //we're calling for the collection object which firebase returns even if it's empty.\n    console.log(collectionRef, 'COLLECTIONREFFFFFFFFFFFF', objectsToAdd, \"OBJECT?????\") //now we will start to populate the collection with objects/items one at the time as doc with multiple calls gathered in one batch\n    const batch = firestore.batch();\n    objectsToAdd.forEach(obj => {\n        const newDocRef = collectionRef.doc()//method to make firestore assign an id to each genereated object in the db collection, for each item\n        batch.set(newDocRef, obj) //now we're assiginig the value of our object item to each doc created in db in order to save it. batch method will group these calls into a queues for us authomaticly\n    })\n     //now we need to commit the calls to db\n    return await batch.commit()\n  }\n\n  export const convertCollectionSnapshotToMap = (collections) => {\n      const transformedCollections = collections.docs.map(doc => {\n          const { title, items } = doc.data() //this method gets the actual value of the documentRef \n          return {\n              routeName: encodeURI(title.toLowerCase()),\n              id: doc.id,\n              title,\n              items\n          }\n      })\n      \n      return transformedCollections.reduce((accumulator, collection) => {\n          accumulator[collection.title.toLowerCase()] = collection;\n          return accumulator;\n      }, {})\n  }\n\n  firebase.initializeApp(config);\n  //configuration neccesary for google auth\n\n  export const auth = firebase.auth();\n  export const firestore = firebase.firestore();\n\n  export const googleProvider = new firebase.auth.GoogleAuthProvider(); //from firebase library for google auth\n  googleProvider.setCustomParameters({ prompt: 'select_account' }); //makes a pop up with google acc to choose from, provider is a class\n  \n  export default firebase;\n\n\n","import shopActionTypes from './shop.types';\nimport {firestore, convertCollectionSnapshotToMap} from '../../firebase/firebase.util'\n\n//thunk is action creator/function that returns dispatch. Istead of a funcion that returns action object we will return another function that returns dispatch\n\nexport const fetchCollectionsStart = () => {\n    return ({\n        type: shopActionTypes.FETCH_COLLECTIONS_START,\n    }) \n}\n\nexport const fetchCollectionsSuccess = collectionsMap => {\n    return ({\n        type: shopActionTypes.FETCH_COLLECTIONS_SUCCESS,\n        payload: collectionsMap\n    }) \n}\n\nexport const fetchCollectionsFailure = errorMessage => {\n    return ({\n        type: shopActionTypes.FETCH_COLLECTIONS_FAILURE,\n        payload: errorMessage,\n    })\n}\n\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport './CollectionPage.styles.scss';\nimport CollectionItem from '../../components/collectionItem/CollectionItem';\nimport { selectCollection } from '../../redux/shop/shop.selectors';\n\nconst mapStateToProps = (state, ownProps) => ({\n    collection: selectCollection(ownProps.match.params.collectionId)(state),\n})\n\nconst CollectionPage = (props) => {\n    const content = props.collection.items.map(item => {\n        return (\n            <CollectionItem key={item.id} item={item} />\n        )\n    })\n    return ( \n        <div className='collection-page'>\n            <div className='title'>\n                <h2>{`${props.collection.title}`}</h2>\n            </div> \n            <div className='items'>\n                {content}\n            </div>\n        </div>\n    )\n}\n\nexport default connect(mapStateToProps)(CollectionPage);","import {compose} from 'redux';\nimport {connect} from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { selectIsCollectionsLoaded } from '../../redux/shop/shop.selectors';\nimport WithSpinner from '../../components/with-spinner/WithSpinner';\nimport CollectionPage from '../CollectionPage/CollectionPage';\n\nconst mapStateToProps = createStructuredSelector({\n    isLoading: state => !selectIsCollectionsLoaded(state),\n    //isLoading: !selectIsCollectionsLoaded, //selector expects the function so we have to do it as above\n})\n//writing this component so that we dont drill props from ShopPage ...containers dont render anything, they just pass props to components\n//const CollectionsOverviewContainer = connect(mapStateToProps)(WithSpinner(CollectionsOverview)) wrapped components get hard to read so we can use Compose\nconst CollectionContainer = compose(\n    connect(mapStateToProps),\n    WithSpinner\n)(CollectionPage);\n\nexport default CollectionContainer;","import React from 'react';\nimport CollectionsOverviewContainer from '../../components/CollectionsOverview/CollectionsOverview-Container';\nimport { fetchCollectionsStart } from '../../redux/shop/shop.actions';\nimport CollectionContainer from '../CollectionPage/Collection-Container';\nimport { Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\n//import { createStructuredSelector } from 'reselect';\n//import { selectIsCollectionFetching, selectIsCollectionsLoaded } from '../../redux/shop/shop.selectors';\n \n//CONTAINER PATTERN OPTIMIZATION to keep concerns seperate to each component\n\n//const CollectionsOverviewWithSpinner = WithSpinner(CollectionsOverview); moved this logic to CollectionOverviewContainer\n//const CollectionPageWithSpinner = WithSpinner(CollectionPage);\n\n// const mapStateToProps = createStructuredSelector({\n//     //isCollectionFetching: selectIsCollectionFetching,\n//     // isCollectionsLoaded: selectIsCollectionsLoaded,\n// })\n\nconst mapDispatchToProps = dispatch => ({\n    fetchCollectionsStart: () => dispatch(fetchCollectionsStart())\n})\n\nclass ShopPage extends React.Component {\n    unsubscribeFromSnapshot = null;\n\n    componentDidMount = () => {\n        this.props.fetchCollectionsStart()\n    }\n\n    render() {\n        return (\n            <div className='shop-page'>\n                {/* <Route exact path={`${this.props.match.path}`} render={(props) => (<CollectionsOverviewWithSpinner isLoading={!this.props.isCollectionFetching} {...props} />)} /> */}\n                <Route exact path={`${this.props.match.path}`} component={CollectionsOverviewContainer} />\n                {/* <Route path={`${this.props.match.path}/:collectionId`} render={(props) => (<CollectionPageWithSpinner isLoading={!this.props.isCollectionsLoaded} {...props} />)} /> */}\n                <Route path={`${this.props.match.path}/:collectionId`} component={CollectionContainer} />\n            </div>\n        )\n    }\n\n}\n\nexport default connect(null, mapDispatchToProps)(ShopPage);","import styled, { css } from 'styled-components';\nimport { Link } from 'react-router-dom';\n\n\nexport const HeaderContainer = styled.div`\n    width: 100%;\n    height: 70px;\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 25px;\n`\n\n\nexport const LogoContainer = styled(Link)`\n    height: 100%;\n    width: 70px;\n    padding: 25px;\n`\n\nexport const OptionsContainer = styled.div`\n    width: 50%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n`\nconst OptionContainerStyles = css`\n    padding: 10px 15px;\n    cursor: pointer;\n`\n//sharing duplicated styles of optionContainer\nexport const OptionLink = styled(Link)`\n${OptionContainerStyles}\n`\nexport const OptionDiv = styled.div`\n${OptionContainerStyles}\n`","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Group\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"WiP\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Artboard\",\n  transform: \"translate(-90.000000, -38.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group\",\n  transform: \"translate(90.000000, 38.000000)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Rectangle\",\n  fill: \"#808282\",\n  points: \"3 14 25 26.5 47 14 40.855176 39 9.08421785 39\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Triangle\",\n  fillOpacity: 0.262838724,\n  fill: \"#101A1A\",\n  points: \"25 8 40 39 10 39\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval\",\n  fill: \"#5E6363\",\n  cx: 2,\n  cy: 9,\n  r: 2\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval\",\n  fill: \"#5E6363\",\n  cx: 25,\n  cy: 2,\n  r: 2\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval\",\n  fill: \"#5E6363\",\n  cx: 48,\n  cy: 9,\n  r: 2\n}))));\n\nvar SvgCrown = function SvgCrown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"50px\",\n    height: \"39px\",\n    viewBox: \"0 0 50 39\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCrown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/crown.ed28accb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgCart = function SvgCart(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 407.453 407.453\",\n    style: {\n      enableBackground: \"new 0 0 407.453 407.453\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z\"\n  })), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCart, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cart.30f07071.svg\";\nexport { ForwardRef as ReactComponent };","//creating selectors allows us to store/cache the section of a state so that it's not constatnly rerendered even when not changed => improves performance\n\n\nimport { createSelector } from 'reselect';\n// there are INPUTSelectors that dont use anything, and OUTPUTselectors that use INPUTselectors and createSelector method to build themselves\n//inputSelector just deconstructs the state : \nconst selectCart = state => state.cart;\n//always add word select as a naming convention to the state property that we select in order to keep it clear\n\n//OUTPUTselector uses createSelector that takes 2 arguments: an array of INPUT SELECTORS and a function that returns the wanted slice of the state. THis function takes inputSelector's returned output as arguments\nexport const selectCartItems = createSelector(\n    [selectCart],\n    cart => {\n        return cart.cartItems //because state.cart is what selectCart is targeting\n    });\n\nexport const selectCartHidden = createSelector(\n    [selectCart],\n    cart => cart.hidden\n);\n\nexport const selectCartItemsCount = createSelector(\n    [selectCartItems],\n    cartItems => {\n        return cartItems.reduce(\n            (accumalatedQuantity, cartItem) =>\n              accumalatedQuantity + cartItem.quantity,\n            0\n          )\n    });\n\nexport const selectCartTotal = createSelector(\n    [selectCartItems],\n    cartItems => cartItems.reduce((accumualtedPrice, item) => accumualtedPrice + item.quantity * item.price, 0)\n)","import React from 'react';\nimport './CartIcon.styles.scss';\nimport { ReactComponent as ShoppingIcon } from '../../assets/cart.svg';\nimport { connect } from 'react-redux';\nimport { toggleCartHidden } from '../../redux/cart/cart.actions'\nimport { selectCartItemsCount } from '../../redux/cart/cart.selectors';\n\nconst mapDispatchToProps = dispatch => ({\n    toggleCartHidden: () => dispatch(toggleCartHidden())\n})\n\nconst mapStateToProps = state => {\n    return ({\n        //when pulling just a part of state (here just quantity), we're creating a selector\n        itemCount: selectCartItemsCount(state)\n    })\n}\n\nconst CartIcon = ({ toggleCartHidden, itemCount }) => {\n\n    return (\n        <div className='cart-icon' onClick={toggleCartHidden}>\n            <ShoppingIcon className='shopping-icon' />\n            <span className='item-count'>{itemCount}</span>\n        </div>\n    )\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CartIcon);","import React from 'react';\nimport './CartItem.styles.scss';\n\n\nconst CartItem = (props) => {\n    const {imageUrl, price, name, quantity} = props;\n    \n    return (\n        <div className='cart-item'>\n            <img src={imageUrl} alt='item'/>\n            <div className='item-details'>\n                <span>{name}</span>\n                <span>{quantity} x ${price}</span>\n            </div>\n        </div>\n    )\n  \n}\n\nexport default CartItem;","import React from 'react';\nimport CustomButton from '../CustomButton/CustomButton';\nimport CartItem from '../CartItem/CartItem';\nimport './Cart.styles.scss';\nimport { connect } from 'react-redux';\nimport { selectCartItems } from '../../redux/cart/cart.selectors';\nimport { selectCartHidden } from '../../redux/cart/cart.selectors';\nimport {createStructuredSelector} from 'reselect';\nimport { withRouter} from 'react-router-dom';\nimport { toggleCartHidden } from '../../redux/cart/cart.actions';\n\nconst mapStateToProps = createStructuredSelector({\n    // cartItems: state.cart.cartItems,\n        cartItems: selectCartItems,\n    })\n\nconst Cart = (props) => {\n    //connect passes dispatch as a prop to component even if we do not provide a second argument to connect, see:\n    console.log(props, 'IN CART')\n    const items = props.cartItems.map(item => (\n        <CartItem key={item.id} {...item} />\n    ));\n    \n    return (\n        <div className='cart-dropdown'>\n            <div className='cart-items'>\n                {props.cartItems.length > 0?\n                    items\n                    :\n                    <p className='empty-message'>Your cart is empty</p>}\n                <CustomButton onClick={() => {\n                    props.history.push('/checkout');\n                    props.dispatch(toggleCartHidden())}}>GO TO CHECKOUT</CustomButton>\n            </div>\n        </div>\n    );\n\n};\n\nexport default withRouter(connect(mapStateToProps)(Cart));","import {createSelector} from 'reselect';\n\nconst selectUser = state => state.user;\n\nexport const selectCurrentUser = createSelector(\n    [selectUser],\n    (user) => user.currentUser\n);","import React from 'react';\nimport {HeaderContainer, LogoContainer, OptionsContainer, OptionLink, OptionDiv} from './Header.styles';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {createStructuredSelector} from 'reselect';\n\nimport { ReactComponent as Logo } from '../../assets/crown.svg'\nimport { auth } from '../../firebase/firebase.util';\nimport CartIcon from '../CartIcon/CartIcon';\nimport Cart from '../CartDropdown/Cart';\nimport { toggleCartHidden } from '../../redux/cart/cart.actions';\nimport {selectCurrentUser} from '../../redux/user/user.selectors';\nimport {selectCartHidden} from '../../redux/cart/cart.selectors';\n\n//higher order components are functions that take components as arguments\n\n//state comes from rootReducer\n// const mapStateToProps = (state) => ({\n//     currentUser: selectCurrentUser(state),\n//     cart: selectCartHidden(state),\n// });\n//or we can write it a bit simpler:\nconst mapStateToProps = createStructuredSelector({\n    currentUser: selectCurrentUser,\n    cart: selectCartHidden,\n});\n\n\nconst Header = ({ currentUser , cart}) => {\n    return (\n        <HeaderContainer>\n            <LogoContainer to='/'>\n                <Logo className='logo' />\n            </LogoContainer>\n            <OptionsContainer>\n                <OptionLink to='/shop'>\n                    SHOP\n                </OptionLink>\n                <OptionLink to='/contact' >\n                    CONTACT\n                </OptionLink>\n\n                {currentUser ?\n                    <OptionDiv onClick={() => auth.signOut()}>SIGN OUT</OptionDiv>\n                    :\n                    <OptionLink to='/signin'>SIGN IN</OptionLink>}\n                \n                <CartIcon />\n            </OptionsContainer>\n            {cart? null : <Cart /> }\n           \n        </HeaderContainer>\n    )\n};\n\nexport default connect(mapStateToProps)(Header);","import React from 'react';\nimport './FormInput.styles.scss';\n\nexport default function FormInput({onChange, label, ...otherProps}) {\n    return (\n        <div className='group'>\n            <input className='form-input' onChange={onChange} {...otherProps} />\n            {\n                label? \n            (<label className={`${otherProps.value.lenght? 'shrink' : ''} form-input-label`}>{label}</label>) \n                : null\n            }      \n\n        </div>\n    )\n}","const UserActionTypes = {\n    SET_CURRENT_USER: 'SET_CURRENT_USER',\n    GOOGLE_SIGNIN_START: 'GOOGLE_SIGNIN_START',\n    EMAIL_SIGNIN_START: 'EMAIL_SIGNIN_START',\n    SIGNIN_SUCCESS: 'SIGNIN_SUCCESS',\n    SIGNIN_FAILURE: 'SIGNIN_FAILURE',\n   \n    \n}\n\nexport default UserActionTypes;","import  UserActionTypes  from './user.types';\n\nexport const googleSignInStart = () => {\n    return ({\n        type: UserActionTypes.GOOGLE_SIGNIN_START,\n    })\n}\n\nexport const signInSuccess = (user) => {\n    return ({\n        type: UserActionTypes.SIGNIN_SUCCESS,\n        payload: user\n    })\n}\n\nexport const signInFailure = (error) => {\n    return ({\n        type: UserActionTypes.SIGNIN_FAILURE,\n        payload: error,\n    })\n}\n\nexport const emailSignInStart = emailAndPassword => {\n    return ({\n        type: UserActionTypes.EMAIL_SIGNIN_START,\n        payload: emailAndPassword\n    })\n}\n","import React from 'react';\nimport './Login.styles.scss';\nimport FormInput from '../../components/FormInput/FormInput';\nimport CustomButton from '../../components/CustomButton/CustomButton';\nimport {auth } from '../../firebase/firebase.util';\nimport {googleSignInStart, emailSignInStart} from '../../redux/user/user.actions';\nimport {connect} from 'react-redux';\n\n\nconst mapDispatchToProps = dispatch => {\n    return ({\n        googleSignInStart: () => dispatch(googleSignInStart()),\n        emailSignInStart: (email, password) => dispatch(emailSignInStart({email, password}))\n    })\n}\n\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            email: '',\n            password: '',\n        }\n    }\n\n    handleSubmit = async(e) => {\n        e.preventDefault();\n        const {email, password} =this.state;\n        const {emailSignInStart} =this.props;\n        emailSignInStart(email, password);\n        console.log(this.props)\n        this.props.onLoginSuccess()\n       \n    }\n\n    handleChange = (e) => {\n        e.preventDefault();\n        const { value, name } = e.target;\n\n        this.setState({\n            [name]: value,\n        })\n    }\n\n\n    render() {\n        return (\n            <div className='sign-in'>\n                <h2 className='title'>I already have an account</h2>\n                <span>Sign in with your email and password</span>\n\n                <form onSubmit={this.handleSubmit}>\n                   \n                    <FormInput name='email' value={this.state.email} onChange={this.handleChange} label='Email' required />\n\n                    <FormInput name='password' value={this.state.password} onChange={this.handleChange} label='Password' required />\n                    \n                    <div className='buttons'>\n                    <CustomButton type='submit'  required >LOG IN</CustomButton>\n                    <CustomButton type='button' onClick={this.props.googleSignInStart} isGoogleSignedIn >LOG IN WITH GOOGLE</CustomButton>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n} \n\nexport default connect(null, mapDispatchToProps)(Login);","import React from 'react';\nimport './Register.styles.scss';\nimport FormInput from '../../components/FormInput/FormInput';\nimport CustomButton from '../../components/CustomButton/CustomButton';\nimport {auth, createUserProfileDocument} from '../../firebase/firebase.util';\n\nexport default class Register extends React.Component {\n    constructor() {\n        super()\n        this.state = {\n            displayName: '',\n            email: '',\n            password: '',\n            confirmPassword: '',\n        }\n    }\n\n    handleSubmit = async(e) => {\n        e.preventDefault();\n        //just like in app.js where we were checking googleAuth now we need to create the full entry\n        const {displayName, email, password, confirmPassword} = this.state;\n        if(password !== confirmPassword) {\n            alert('Password entries do not match!')\n            return;\n        }\n\n        try{\n            \n            const {user} = await auth.createUserWithEmailAndPassword(email, password)\n            //after creating a new user we want to save the authCredentials in here to stay singed in so we call the following \n            await createUserProfileDocument(user, {displayName})\n            //once process is finished we reset the form\n            this.setState({\n                displayName: '',\n                email: '',\n                password: '',\n                confirmPassword: '',\n            })\n        }catch(err) {\n            console.log(err)\n        };\n    }\n\n    handleChange =(e)=> {\n        const {name, value} = e.target;\n        this.setState({\n            [name]: value,\n        })\n    }\n\n\n    render () {\n        const {displayName, email, password, confirmPassword} = this.state;\n        return (\n            <div className='sign-up'>\n                <h2 className='title'>I do not have an account</h2>\n                <span>Sign up with your emial and password</span>\n\n                <form onSubmit={this.handleSubmit}>\n                    <FormInput \n                        type='text'\n                        name='displayName'\n                        value={displayName}\n                        onChange={this.handleChange}\n                        label='Display name'\n                        required\n                    />\n                    <FormInput \n                         type='email'\n                         name='email'\n                         value={email}\n                         onChange={this.handleChange}\n                         label='Email'\n                         required\n                    />\n                    <FormInput \n                     type='password'\n                     name='password'\n                     value={password}\n                     onChange={this.handleChange}\n                     label='Password'\n                     required\n                     />\n                    <FormInput \n                    type='password'\n                    name='confirmPassword'\n                    value={confirmPassword}\n                    onChange={this.handleChange}\n                    label='Confirm Password'\n                    required\n                    />\n\n                    <CustomButton type='submit'>REGISTER</CustomButton>\n                </form>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport './LoginRegister.styles.scss';\nimport Login from '../../components/Login/Login';\nimport Register from '../../components/Register/Register';\nimport {withRouter} from 'react-router-dom';\n\nconst LoginRegister = (props) => {\n   \n    const handleLogin = () => {\n        const {location, history} = props;\n        const destination = (location || {}).state || '/';\n        history.push(destination);\n    }\n\n    return (\n        <div className='login-register'>\n            <Login onLoginSuccess={handleLogin}/>\n            <Register />\n        </div>\n    )\n}\n\nexport default withRouter(LoginRegister)","import React from 'react';\nimport './CheckoutItem.styles.scss';\nimport { connect } from 'react-redux';\nimport { addItemToCart, clearItemFromCart, removeItem } from '../../redux/cart/cart.actions';\n\nconst mapDispatchToProps = dispatch => ({\n    clearItemFromCart: item => dispatch(clearItemFromCart(item)),\n    addItem: item => dispatch(addItemToCart(item)),\n    removeItem: item => dispatch(removeItem(item))\n});\n\nconst CheckoutItem = (props) => {\n    console.log(props)\n    const { imageUrl, name, quantity, price, clearItemFromCart, addItem, removeItem } = props;\n\n    //as props we need to pass cartItems but also the item itself in order to be able to add or remove another items to cart\n    return (\n        <div className='checkout-item'>\n            <div className='image-container'>\n                <img src={imageUrl} alt='checkout item' />\n            </div>\n            <span className='name'>{name}</span>\n\n            <span className='quantity'>\n                <div className='arrow' onClick={()=> removeItem(props)}>&#10094;</div>\n                <span className='value'>{quantity}</span>\n                <div className='arrow'  onClick={()=> addItem(props)}>&#10095;\n                </div>\n            </span>\n            <span className='price'>{price}</span>\n            <div className='remove-button' onClick={() => clearItemFromCart(props)}>&#10005;</div>\n        </div>\n    )\n}\n\nexport default connect(null, mapDispatchToProps)(CheckoutItem);","import React from 'react';\nimport './StripeButton.styles.scss';\nimport StripeCheckout from 'react-stripe-checkout';\n\n\nconst StripeCheckoutButton = ({price}) => {\n    const priceForStripe = price * 100 //stripe need to get the price value in cents\n    const publishableKey = 'pk_test_Uv2WNYGHsgq7vXy7n40tTEn800RtkKKA7l'\n\n    const onToken = token => {\n        console.log(token); //normally it would be passed in auth to backend\n        alert('Payment Successful')\n    }\n    return (\n        //from stipe docs we can choose whatever features to include here as props\n        <StripeCheckout \n            label='Pay Now'\n            name='CROWN Clothing LTD.'\n            billingAddress\n            shippingAddress\n            image =''\n            description={`Your total is $${price}`}\n            amount={priceForStripe}\n            panelLabel='Pay Now'\n            token={onToken}\n            stripeKey={publishableKey}\n        />\n\n    )\n}\nexport default StripeCheckoutButton;","import React from 'react';\nimport './CheckOut.styles.scss';\nimport CheckoutItem from '../../components/CheckoutItem/CheckoutItem';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\n\nimport { selectCartItems, selectCartHidden, selectCartTotal } from '../../redux/cart/cart.selectors';\nimport StripeCheckoutButton from '../../components/StripeButton/StripeButton';\n\nconst mapStateToProps = createStructuredSelector({\n    cartItems: selectCartItems,\n    total: selectCartTotal,\n})\n\nconst CheckOut = (props) => {\n    const items = props.cartItems.map(item => (\n        <CheckoutItem key={item.id} {...item} />\n    ));\n    return (\n        <div className='checkout-page'>\n            <div className='checkout-header'>\n                <div className='header-block'>\n                    <span>Product</span>\n                </div>\n                <div className='header-block'>\n                    <span>Description</span>\n                </div>\n                <div className='header-block'>\n                    <span>Quantity</span>\n                </div>\n                <div className='header-block'>\n                    <span>Price</span>\n                </div>\n                <div className='header-block'>\n                    <span>Remove</span>\n                </div>\n            </div>\n            {items}\n            <div className='total'>\n                <span> TOTAL : ${props.total}</span>\n            </div>\n            <div className='test-warning'>\n                * Please use the following test credit card for payment:\n                 <br />\n                 4242 4242 4242 4242 - Exp: 01/22 - CVV: 123 *\n           </div>\n            <StripeCheckoutButton price={props.total} />\n        </div>\n    )\n}\n\nexport default connect(mapStateToProps)(CheckOut);","import React from 'react';\nimport './App.css';\nimport HomePage from './pages/homepage/HomePage';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport ShopPage from './pages/shop/ShopPage';\nimport Header from './components/Header/Header';\nimport LoginRegister from './pages/LoginRegister/LoginRegister';\nimport CheckOut from './pages/checkOut/CheckOut';\nimport {selectCurrentUser} from './redux/user/user.selectors';\n\n\nclass App extends React.Component {\n\n  unsubscribeFromAuth = null;\n\n  componentDidMount = () => {\n    \n  }\n\n  componentWillUnmount = () => {\n    this.unsubscribeFromAuth(); //making sure we sign off/expire the access\n  }\n\n  render() {\n    return (\n      <div>\n        <Header />\n        \n        <Switch>\n\n          <Route exact path='/' component={HomePage} />\n          <Route path='/shop' component={ShopPage} />\n          <Route exact path='/signin' render={() => this.props.currentUser ? (<Redirect to='/' />) : (<LoginRegister />)} />\n          <Route exact path='/checkout' component={CheckOut} />\n        </Switch>\n      </div>\n    );\n  }\n\n}\n//bringing user reducer from redux\n// const mapStateToProps = ({ user }) => {\n//   return ({\n//     currentUser: user.setCurrentUser,\n//   })\n// }\nconst mapStateToProps = (state) => ({\n    currentUser: selectCurrentUser(state),\n});\n\nexport default connect(mapStateToProps)(App)\n\n","import UserActionTypes from \"./user.types\";\n\nconst INITIAL_STATE = {\n    currentUser: null,\n    error: null,\n}\n//state gets passed by redux but if there is no state the initial_state will be used\nconst userReducer = (state = INITIAL_STATE, action) => {\n    //action obj has type indicating which redducer should get affected and payload which is the property that gets changed\n    //state is current state of the app\n    switch (action.type) {\n        case UserActionTypes.GOOGLE_SIGNIN_SUCCESS:\n        case UserActionTypes.EMAIL_SIGNIN_SUCCESS:\n            return {\n                ...state,\n                currentUser: action.payload,\n                error: null\n            }\n        case UserActionTypes.GOOGLE_SIGNIN_FAILURE:\n        case UserActionTypes.EMAIL_SIGNIN_FAILURE:\n            return {\n                ...state,\n                error: action.payload\n            }\n\n        default:\n            return state;\n    }\n};\n\nexport default userReducer;","export const addMultiSameToCart = (cartItems, newItem) => {\n    //checking if we have duplicates:\n    const existingItem = cartItems.find(item => item.id === newItem.id);\n    //we need to create a new array with adjusted object property to make sure that react will rerender\n    if(existingItem) {\n        return cartItems.map(item => {\n            if(item.id === newItem.id) {\n                return ({\n                    ...item,\n                    quantity: item.quantity+1,\n                })\n        } else {\n            return item;\n        }\n        })\n    }\n    return [...cartItems, {...newItem, quantity: 1}]\n    //if no duplicates we still need to add the new item to the cart\n}\n\nexport const removeItem = (cartItems, itemToRemove)=> {\n    const existingItem = cartItems.find(item => item.id === itemToRemove.id)\n\n    if(existingItem.quantity === 1) {\n        return cartItems.filter(item => item.id !== existingItem.id)\n        \n    }\n    \n    return cartItems.map( item => {\n        if(item.id === itemToRemove.id) {\n            return ({\n                ...item,\n                quantity: item.quantity -1,\n            })\n        } else {\n            return item;\n        }\n        \n    })\n}","import CartActionTypes from './cart.types';\nimport { connect } from 'react-redux';\n\nimport {addMultiSameToCart, removeItem} from './cart.utils';\n\n\nconst INITIAL_STATE = {\n    hidden: true,\n    cartItems: [],\n};\n\nconst cartReducer = (state=INITIAL_STATE, action) => {\n    switch(action.type) {\n        case CartActionTypes.TOOGLE_CART_HIDDEN:\n            return {\n                ...state,\n                hidden: !state.hidden\n            }\n        case CartActionTypes.ADD_ITEM:\n            return {\n                ...state,\n                cartItems: addMultiSameToCart(state.cartItems, action.payload)\n            }\n\n        case CartActionTypes.REMOVE_ITEM: \n        return {\n            ...state,\n            cartItems: removeItem(state.cartItems, action.payload)\n        }\n        \n        case CartActionTypes.CLEAR_ITEM:\n            return {\n                ...state,\n                cartItems: state.cartItems.filter(item => item.id !== action.payload.id)\n            }\n        default:\n            return state;\n    } \n};\n\nexport default cartReducer;","const INITIAL_STATE = {\n    sections: [\n        {\n            title: 'hats',\n            imageUrl: 'https://i.ibb.co/cvpntL1/hats.png',\n            id: 1,\n            linkUrl: 'shop/hats'\n        },\n        {\n            title: 'jackets',\n            imageUrl: 'https://i.ibb.co/px2tCc3/jackets.png',\n            id: 2,\n            linkUrl: 'shop/jackets'\n        },\n        {\n            title: 'sneakers',\n            imageUrl: 'https://i.ibb.co/0jqHpnp/sneakers.png',\n            id: 3,\n            linkUrl: 'shop/sneakers'\n        },\n        {\n            title: 'womens',\n            imageUrl: 'https://i.ibb.co/GCCdy8t/womens.png',\n            size: 'large',\n            id: 4,\n            linkUrl: 'shop/womens'\n        },\n        {\n            title: 'mens',\n            imageUrl: 'https://i.ibb.co/R70vBrQ/men.png',\n            size: 'large',\n            id: 5,\n            linkUrl: 'shop/mens'\n        }\n    ]\n}\n\nconst directoryReducer = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        default:\n            return state;\n    }\n}\nexport default directoryReducer;","\nimport shopActionsType from './shop.types';\n\nconst INITIAL_STATE = {\n    collections: null,\n    isFetching: false,\n    error: null,\n}\n\nconst shopReducer = (state =INITIAL_STATE, action) => {\n\n    switch(action.type) {\n        case shopActionsType.FETCH_COLLECTIONS_START:\n            return {\n                ...state,\n                isFetching: true,\n            }\n        case shopActionsType.FETCH_COLLECTIONS_SUCCESS:\n            return {\n                ...state,\n                isFetching: false,\n                collections: action.payload,\n            }\n            case shopActionsType.FETCH_COLLECTIONS_FAILURE:\n                return {\n                    ...state,\n                    isFetching: false,\n                    error: action.payload,\n                }\n          default:\n            return state;\n    }\n}\n\nexport default shopReducer;","//  object representing the state of the whole application, overall reducer combining all other reducers\n\nimport {combineReducers} from 'redux';\nimport {persistReducer} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';//tells persist to use local storage in the browser\nimport userReducer from './user/user-reducer';\nimport cartReducer from './cart/cart-reducer';\nimport directoryReducer from './directory/directory-reducer';\nimport shopReducer from './shop/shop-reducer';\n\nconst persistConfig = {\n    key: 'root',\n    storage,\n    whitelist: ['cart'] // an array of reducers we want to persist, no need to persist user casue it's already handled by firebase auth\n}\nconst rootReducer =  combineReducers({\n    user: userReducer,\n    cart: cartReducer,\n    directory: directoryReducer,\n    shop: shopReducer,\n})\n\nexport default persistReducer(persistConfig, rootReducer)","import { takeLatest, call, put } from 'redux-saga/effects';\nimport ShopActionTypes from '../shop/shop.types';\nimport { firestore, convertCollectionSnapshotToMap } from '../../firebase/firebase.util';\nimport { fetchCollectionsSuccess, fetchCollectionsFailure } from '../shop/shop.actions';\n\n\nexport function* fetchCollectionsAsync() {\n    yield console.log('im fired!!!!!')\n    \n    try {\n        console.log('about to start')\n        const collectionRef = firestore.collection('collections')\n        const snapshot = yield collectionRef.get();\n        const collectionsMap = yield call(convertCollectionSnapshotToMap, snapshot) //using yield call to make sure it will get finished before following action gets triggered, call takes as arguments function and its parameters  \n        //sagas use method PUT to trigger actions (instead of dispatch)\n        yield put(fetchCollectionsSuccess(collectionsMap))\n    } catch(error) {\n        yield put(fetchCollectionsFailure(error.message))\n    }\n}\n\nexport function* fetchCollectionsStart() {\n    yield takeLatest(ShopActionTypes.FETCH_COLLECTIONS_START, fetchCollectionsAsync)\n}\n","import { takeLatest, put, all, call } from 'redux-saga/effects';\nimport UserActionTypes from '../user/user.types';\nimport { auth, googleProvider, createUserProfileDocument, mDatabase } from '../../firebase/firebase.util';\nimport {signInSuccess, signInFailure} from '../user/user.actions';\n\nfunction* getSnapshotFromUserAuth(userAuth) {\n    try {\n        const user = yield call(createUserProfileDocument, userAuth);\n        const userSnapshot = yield user.get();\n        //put method puts received data back into redux flow\n        yield put(signInSuccess({id: userSnapshot.id, ...userSnapshot.data()}));\n    }catch(err) {\n        yield put(signInFailure(err))\n    }\n}\n\nfunction* signInWithGoogle() {\n    //api call here to sign in instead of in App.js:\n    try {\n        const userRef = yield auth.signInWithPopup(googleProvider);\n        const {user} = userRef;\n        yield getSnapshotFromUserAuth(user)\n    \n       \n       \n    } catch (err) {\n        yield put(signInFailure(err))\n    }\n}\n\n//we're receiving action.payload here\nfunction* signInWithEmail({payload: {email, password}}) {\n    try{\n        const userRef = yield auth.signInWithEmailAndPassword(email, password);\n        // const user = yield call(createUserProfileDocument, userRef.user);\n        // const userSnapshot = yield user.get();\n        //refactored to limit repeating code\n        const {user} = userRef;\n        yield getSnapshotFromUserAuth(user)\n        // yield put(signInSuccess({id: userSnapshot.id, ...userSnapshot.data()}));\n\n    }catch(err) {\n        yield put(signInFailure(err))\n    }\n}\n\n\nexport function* onGoogleSignInStart() {\n    yield takeLatest(UserActionTypes.GOOGLE_SIGNIN_START, signInWithGoogle)\n}\n\nexport function* onEmailSignInStart() {\n    yield takeLatest(UserActionTypes.EMAIL_SIGNIN_START, signInWithEmail)\n}\n\nexport function* userSagas () {\n    yield all([\n        call(onGoogleSignInStart),\n        call(onEmailSignInStart)\n    ])\n}","import {all, call} from 'redux-saga/effects';\nimport {fetchCollectionsStart} from '../redux/shop/shop-sagas';\nimport {userSagas} from '../redux/user/user-sagas';\n\nexport default function* rootSaga() {\n    yield all(\n        [\n            call(fetchCollectionsStart),\n            call(userSagas)\n        ]\n    )\n}\n// ALL takes an array of sagas to run at the same time instead of waiting for each to finish if written like in this: \n//yeild fetchCollectionsStart()\n//yeild fetchCollectionsStart()\n//yeild fetchCollectionsStart()","import {createStore, applyMiddleware} from 'redux';\nimport logger from 'redux-logger';\nimport {persistStore} from 'redux-persist'; //allows browser to cache our store\nimport rootReducer from './root-reducer';\nimport thunk from 'redux-thunk';\nimport createSagaMiddleware from 'redux-saga';\nimport {fetchCollectionsStart} from '../redux/shop/shop-sagas';\nimport rootSaga from './root-saga';\n//middlaware is an array hence to keep it scalable we write the following:\n\nconst sagaMiddleware = createSagaMiddleware();\nconst middlewares = [sagaMiddleware];\n\nif(process.env.NODE_ENV === 'development') {\n    middlewares.push(logger);\n}\n\nexport const store = createStore(rootReducer, applyMiddleware(...middlewares))\n\n sagaMiddleware.run(rootSaga) //we created root saga to run multiple sagas when component mounts instead of typing run method for each saga separatly\nexport const persistor = persistStore(store);  \nexport default {store, persistor};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { store, persistor } from './redux/store';\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <PersistGate persistor={persistor}>\n        <App />\n      </PersistGate>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}